<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Happy New Year ðŸŽ‰</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  font-family: 'Segoe UI', sans-serif;
  overflow: hidden;
  background: #000;
  color: white;
}

/* Pages */
.page {
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  flex-direction: column;
  transition: opacity 1s ease;
}

.hidden {
  opacity: 0;
  pointer-events: none;
}

/* Text */
h1 {
  font-size: 3rem;
  text-align: center;
}

.tap {
  margin-top: 20px;
  opacity: 0.8;
}

/* LAST PAGE FLOWER EFFECT */
.flower {
  position: absolute;
  bottom: 10vmin;
  transform-origin: bottom center;
  z-index: 10;
  --fl-speed: 0.8s;
}

/* Canvas */
canvas {
  position: absolute;
  inset: 0;
}
</style>
</head>

<body>

<!-- PAGE 1 -->
<div class="page" id="page1">
  <h1>âœ¨ Something Special âœ¨</h1>
  <div class="tap">Tap to continue</div>
</div>

<!-- PAGE 2 -->
<div class="page hidden" id="page2">
  <h1>ðŸŽ‰ Happy New Year ðŸŽ‰</h1>
  <div class="tap">Tap again</div>
</div>

<!-- PAGE 3 (LAST) -->
<div class="page hidden" id="page3">
  <h1>ðŸŒ¸ Wishing You Joy ðŸŒ¸</h1>

  <div class="flower">ðŸŒº</div>

  <canvas id="canvas"></canvas>
</div>

<!-- YOUTUBE AUDIO (AUTOPLAY SAFE) -->
<iframe
  id="music"
  width="0"
  height="0"
  src="https://www.youtube.com/embed/2Bc9ET7XGDg?autoplay=1&mute=1&loop=1&playlist=2Bc9ET7XGDg"
  frameborder="0"
  allow="autoplay">
</iframe>

<script>
/* Page navigation */
let current = 1;

document.body.addEventListener('click', () => {
  if (current === 1) {
    page1.classList.add('hidden');
    page2.classList.remove('hidden');
    current++;
  } else if (current === 2) {
    page2.classList.add('hidden');
    page3.classList.remove('hidden');
    current++;
    runLastPageCode();
  }
});

/* Unmute music after load */
setTimeout(() => {
  const iframe = document.getElementById('music');
  iframe.src = iframe.src.replace("mute=1", "mute=0");
}, 500);

/* LAST PAGE CODE */
function runLastPageCode() {

  /* ===== YOUR POINTER CODE (FIXED) ===== */
  const canvasEl = document.querySelector('#canvas');

  const pointer = {
    x: 0.66,
    y: 0.3,
    clicked: true
  };

  window.setTimeout(() => {
    pointer.x = 0.75;
    pointer.y = 0.5;
    pointer.clicked = true;
  }, 700);

  /* Simple canvas animation */
  const ctx = canvasEl.getContext('2d');
  canvasEl.width = innerWidth;
  canvasEl.height = innerHeight;

  function draw() {
    ctx.clearRect(0,0,canvasEl.width,canvasEl.height);
    ctx.fillStyle = 'rgba(255,255,255,0.8)';
    ctx.beginPath();
    ctx.arc(pointer.x * canvasEl.width, pointer.y * canvasEl.height, 10, 0, Math.PI * 2);
    ctx.fill();
    requestAnimationFrame(draw);
  }

  draw();
}
</script>

</body>
</html>
